---
# K-12 Educational Publishing Ontology
#
# A comprehensive ontology for educational publishers focused on K-12
# curriculum, textbooks, digital content, and state adoption processes.
# Modeled after legacy publishers like Houghton Mifflin Harcourt (est. 1832).
#
# Compatible with: mif-base v1.0.0, shared-traits v1.0.0
#
# Version: 1.0.0
# Last Updated: 2026-01-26
#
# Sources:
# - EdReports.org Quality Standards
#   https://edreports.org/
# - NASBE State Textbook Adoption Guidance
#   https://www.nasbe.org/
# - California Dept of Education Curriculum Frameworks
#   https://www.cde.ca.gov/ci/cr/cf/
# - Common Core State Standards Initiative
#   https://www.corestandards.org/
# - ISTE Standards for Students
#   https://www.iste.org/standards/students
# - Association of American Publishers (AAP)

ontology:
  id: k12-educational-publishing
  version: "1.0.0"
  description: "K-12 educational publishing ontology"
  schema_url: "https://raw.githubusercontent.com/zircote/MIF/main/schema/ontology.schema.json"
  extends:
    - mif-base
    - shared-traits

# ===========================================================================
# CUSTOM NAMESPACES
# ===========================================================================

namespaces:
  semantic:
    children:
      # Content & Products
      titles:
        description: "Published titles, editions, ISBNs"
        type_hint: semantic
      programs:
        description: "Curriculum programs, series, bundles"
        type_hint: semantic
      content:
        description: "Content assets, manuscripts, media"
        type_hint: semantic

      # Standards & Alignment
      standards:
        description: "Educational standards, frameworks"
        type_hint: semantic
      alignments:
        description: "Content-to-standard alignments"
        type_hint: semantic

      # People & Organizations
      contributors:
        description: "Authors, editors, reviewers"
        type_hint: semantic
      adoptions:
        description: "State/district adoption entities"
        type_hint: semantic

  episodic:
    children:
      editorial:
        description: "Editorial milestones, reviews"
        type_hint: episodic
      adoption-cycles:
        description: "State adoption windows, reviews"
        type_hint: episodic
      releases:
        description: "Publication dates, launches"
        type_hint: episodic

  procedural:
    children:
      editorial-workflow:
        description: "Manuscript to publication process"
        type_hint: procedural
      adoption-prep:
        description: "State adoption preparation"
        type_hint: procedural
      production:
        description: "Print and digital production"
        type_hint: procedural

# ===========================================================================
# ENTITY TYPES
# ===========================================================================

entity_types:
  # -------------------------------------------------------------------------
  # TITLE & PRODUCT ENTITIES
  # -------------------------------------------------------------------------
  - name: title
    description: "A published educational title (textbook, workbook, etc.)"
    base: semantic
    traits:
      - lifecycle
      - versioned
      - categorized
    schema:
      required:
        - name
        - isbn
        - subject
        - grade_range
      properties:
        name:
          type: string
          description: "Title name"
        isbn:
          type: string
          description: "ISBN-13"
          pattern: "^97[89]\\d{10}$"
        edition:
          type: integer
          description: "Edition number"
        copyright_year:
          type: integer
        subject:
          type: string
          enum:
            - english_language_arts
            - mathematics
            - science
            - social_studies
            - world_languages
            - health
            - arts
            - career_technical
        grade_range:
          type: object
          properties:
            min:
              type: integer
            max:
              type: integer
        format:
          type: string
          enum:
            - hardcover
            - softcover
            - ebook
            - digital_only
            - hybrid
        page_count:
          type: integer
        program_id:
          type: string
          description: "Parent program reference"
        status:
          type: string
          enum:
            - in_development
            - active
            - backlist
            - out_of_print

  - name: program
    description: "A curriculum program or series"
    base: semantic
    traits:
      - lifecycle
      - owned
    schema:
      required:
        - name
        - subject
      properties:
        name:
          type: string
          description: "Program name"
        subject:
          type: string
        grade_span:
          type: object
          properties:
            min:
              type: integer
            max:
              type: integer
        components:
          type: array
          description: "Titles in this program"
          items:
            type: string
        instructional_model:
          type: string
          description: "Pedagogical approach"
        launch_year:
          type: integer
        revision_cycle_years:
          type: integer
        target_states:
          type: array
          items:
            type: string

  - name: digital-resource
    description: "Digital learning resource or platform"
    base: semantic
    traits:
      - versioned
      - maintainable
    schema:
      required:
        - name
        - resource_type
      properties:
        name:
          type: string
        resource_type:
          type: string
          enum:
            - lms_platform
            - interactive
            - video
            - assessment
            - simulation
            - game
            - ebook
            - audio
        url:
          type: string
          format: uri
        lti_compatible:
          type: boolean
        accessibility_compliant:
          type: boolean
          description: "WCAG 2.1 AA compliant"
        rostering:
          type: array
          description: "Supported rostering standards"
          items:
            type: string
            enum:
              - clever
              - classlink
              - oneroster
        linked_titles:
          type: array
          items:
            type: string

  # -------------------------------------------------------------------------
  # CONTENT & ASSET ENTITIES
  # -------------------------------------------------------------------------
  - name: manuscript
    description: "A manuscript in the editorial pipeline"
    base: semantic
    traits:
      - lifecycle
      - reviewed
      - owned
    schema:
      required:
        - title
        - author_id
        - status
      properties:
        title:
          type: string
        author_id:
          type: string
        current_version:
          type: string
        word_count:
          type: integer
        status:
          type: string
          enum:
            - draft
            - submitted
            - in_review
            - revision_requested
            - accepted
            - in_production
            - published
        due_date:
          type: string
          format: date
        genre:
          type: string
        target_grade:
          type: integer

  - name: content-asset
    description: "A reusable content component"
    base: semantic
    traits:
      - tagged
      - versioned
    schema:
      required:
        - asset_id
        - asset_type
      properties:
        asset_id:
          type: string
        asset_type:
          type: string
          enum:
            - text_passage
            - image
            - illustration
            - diagram
            - chart
            - table
            - video
            - audio
            - interactive
            - assessment_item
        source_file:
          type: string
        alt_text:
          type: string
        caption:
          type: string
        rights_holder:
          type: string
        license_type:
          type: string
        usage_restrictions:
          type: array
          items:
            type: string

  # -------------------------------------------------------------------------
  # STANDARDS & ALIGNMENT ENTITIES
  # -------------------------------------------------------------------------
  - name: standard
    description: "An educational standard or learning objective"
    base: semantic
    traits:
      - categorized
    schema:
      required:
        - standard_id
        - description
        - framework
      properties:
        standard_id:
          type: string
          description: "Official standard identifier"
        description:
          type: string
        framework:
          type: string
          enum:
            - ccss_ela
            - ccss_math
            - ngss
            - c3_social_studies
            - state_specific
            - iste
        grade:
          type: integer
        strand:
          type: string
        domain:
          type: string
        cluster:
          type: string
        state:
          type: string
          description: "State if state-specific"

  - name: alignment
    description: "Maps content to educational standards"
    base: semantic
    traits:
      - reviewed
      - scored
    schema:
      required:
        - content_id
        - standard_id
        - alignment_strength
      properties:
        content_id:
          type: string
          description: "Title, asset, or program ID"
        standard_id:
          type: string
        alignment_strength:
          type: string
          enum:
            - full
            - partial
            - supplemental
        evidence:
          type: string
          description: "Citation of how content addresses standard"
        verified_by:
          type: string
        verification_date:
          type: string
          format: date

  # -------------------------------------------------------------------------
  # PEOPLE & CONTRIBUTOR ENTITIES
  # -------------------------------------------------------------------------
  - name: author
    description: "Content author or contributor"
    base: semantic
    traits:
      - contactable
    schema:
      required:
        - name
        - role
      properties:
        name:
          type: string
        role:
          type: string
          enum:
            - author
            - co_author
            - contributing_author
            - consultant
            - reviewer
            - illustrator
            - editor
        credentials:
          type: string
        affiliation:
          type: string
        biography:
          type: string
        photo_url:
          type: string
        specialties:
          type: array
          items:
            type: string

  - name: editorial-team
    description: "Internal editorial team"
    base: semantic
    traits:
      - owned
    schema:
      required:
        - name
        - subject_area
      properties:
        name:
          type: string
        subject_area:
          type: string
        members:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              role:
                type: string
                enum:
                  - executive_editor
                  - senior_editor
                  - developmental_editor
                  - copy_editor
                  - production_editor
                  - permissions_editor

  # -------------------------------------------------------------------------
  # STATE ADOPTION ENTITIES
  # -------------------------------------------------------------------------
  - name: state-adoption
    description: "State adoption cycle and requirements"
    base: semantic
    traits:
      - scheduled
      - lifecycle
    schema:
      required:
        - state
        - subject
        - adoption_year
      properties:
        state:
          type: string
          description: "Two-letter state code"
        subject:
          type: string
        adoption_year:
          type: integer
        adoption_type:
          type: string
          enum:
            - state_adopted
            - state_reviewed
            - local_control
        submission_deadline:
          type: string
          format: date
        review_period_start:
          type: string
          format: date
        review_period_end:
          type: string
          format: date
        decision_date:
          type: string
          format: date
        contract_years:
          type: integer
        requirements:
          type: array
          description: "State-specific requirements"
          items:
            type: string
        submitted_titles:
          type: array
          items:
            type: string

  - name: adoption-submission
    description: "Title submission to state adoption"
    base: episodic
    traits:
      - lifecycle
      - reviewed
    schema:
      required:
        - title_id
        - state_adoption_id
        - submission_date
      properties:
        title_id:
          type: string
        state_adoption_id:
          type: string
        submission_date:
          type: string
          format: date
        status:
          type: string
          enum:
            - preparing
            - submitted
            - under_review
            - approved
            - conditionally_approved
            - rejected
            - withdrawn
        review_scores:
          type: array
          items:
            type: object
            properties:
              criterion:
                type: string
              score:
                type: number
              max_score:
                type: number
        reviewer_feedback:
          type: array
          items:
            type: object
            properties:
              reviewer:
                type: string
              feedback:
                type: string
              date:
                type: string
                format: date

  - name: district-sale
    description: "District adoption/sale record"
    base: episodic
    traits:
      - transactional
    schema:
      required:
        - district_name
        - state
        - title_id
      properties:
        district_name:
          type: string
        state:
          type: string
        title_id:
          type: string
        program_id:
          type: string
        enrollment:
          type: integer
          description: "District student enrollment"
        units_sold:
          type: integer
        license_type:
          type: string
          enum:
            - perpetual
            - subscription
            - consumable
        contract_start:
          type: string
          format: date
        contract_end:
          type: string
          format: date
        annual_value:
          type: number

  # -------------------------------------------------------------------------
  # EDITORIAL WORKFLOW ENTITIES
  # -------------------------------------------------------------------------
  - name: editorial-milestone
    description: "Key milestone in editorial process"
    base: episodic
    traits:
      - scheduled
    schema:
      required:
        - title_id
        - milestone_type
        - target_date
      properties:
        title_id:
          type: string
        milestone_type:
          type: string
          enum:
            - manuscript_due
            - developmental_edit
            - content_review
            - copy_edit
            - design_complete
            - page_proof
            - final_proof
            - print_ready
            - digital_ready
            - ship_date
        target_date:
          type: string
          format: date
        actual_date:
          type: string
          format: date
        status:
          type: string
          enum:
            - not_started
            - in_progress
            - completed
            - delayed
            - at_risk
        owner:
          type: string
        notes:
          type: string

  - name: review-cycle
    description: "Content review cycle"
    base: episodic
    traits:
      - reviewed
    schema:
      required:
        - content_id
        - review_type
      properties:
        content_id:
          type: string
        review_type:
          type: string
          enum:
            - subject_matter
            - pedagogical
            - diversity_equity
            - accessibility
            - legal
            - sensitivity
            - accuracy
            - standards_alignment
        reviewers:
          type: array
          items:
            type: string
        due_date:
          type: string
          format: date
        findings:
          type: array
          items:
            type: object
            properties:
              severity:
                type: string
                enum:
                  - critical
                  - major
                  - minor
                  - suggestion
              location:
                type: string
              issue:
                type: string
              resolution:
                type: string

  # -------------------------------------------------------------------------
  # PRODUCTION ENTITIES
  # -------------------------------------------------------------------------
  - name: print-specification
    description: "Print production specifications"
    base: procedural
    traits:
      - versioned
    schema:
      required:
        - title_id
        - trim_size
        - binding
      properties:
        title_id:
          type: string
        trim_size:
          type: string
          description: "Width x Height in inches"
        binding:
          type: string
          enum:
            - perfect
            - saddle_stitch
            - spiral
            - hardcover
            - case_bound
        paper_stock:
          type: string
        color:
          type: string
          enum:
            - 4_color
            - 2_color
            - 1_color
        printer:
          type: string
        print_quantity:
          type: integer
        unit_cost:
          type: number

  - name: accessibility-spec
    description: "Accessibility requirements and compliance"
    base: procedural
    traits:
      - auditable
    schema:
      required:
        - title_id
        - wcag_level
      properties:
        title_id:
          type: string
        wcag_level:
          type: string
          enum:
            - A
            - AA
            - AAA
        section_508:
          type: boolean
        alt_text_complete:
          type: boolean
        audio_descriptions:
          type: boolean
        captions_complete:
          type: boolean
        screen_reader_tested:
          type: boolean
        vpat_url:
          type: string
          format: uri
        last_audit_date:
          type: string
          format: date

# ===========================================================================
# RELATIONSHIPS
# ===========================================================================

relationships:
  belongs_to:
    description: "Title belongs to program"
    from:
      - title
      - digital-resource
    to:
      - program
    symmetric: false

  authored_by:
    description: "Content authored by contributor"
    from:
      - title
      - manuscript
      - content-asset
    to:
      - author
    symmetric: false

  aligns_to:
    description: "Content aligns to standard"
    from:
      - title
      - program
      - content-asset
    to:
      - standard
    symmetric: false

  submitted_to:
    description: "Title submitted to state adoption"
    from:
      - title
      - program
    to:
      - state-adoption
    symmetric: false

  sold_to:
    description: "Title sold to district"
    from:
      - title
      - program
    to:
      - district-sale
    symmetric: false

  contains:
    description: "Title contains content assets"
    from:
      - title
    to:
      - content-asset
    symmetric: false

  revises:
    description: "New edition revises previous"
    from:
      - title
    to:
      - title
    symmetric: false

  reviewed_by:
    description: "Content reviewed by team/author"
    from:
      - manuscript
      - title
    to:
      - author
      - editorial-team
    symmetric: false

# ===========================================================================
# DISCOVERY PATTERNS
# ===========================================================================

discovery:
  enabled: true
  confidence_threshold: 0.8

  patterns:
    # Title patterns
    - content_pattern: "\\b(ISBN|textbook|workbook|edition)\\b"
      suggest_entity: title
      suggest_namespace: semantic/titles
    - content_pattern: "\\b(curriculum|program|series)\\b"
      suggest_entity: program
      suggest_namespace: semantic/programs

    # Standards patterns
    - content_pattern: "\\b(CCSS|Common Core|NGSS|C3)\\b"
      suggest_entity: standard
      suggest_namespace: semantic/standards
    - content_pattern: "\\b(standard|learning objective|alignment)\\b"
      suggest_entity: alignment
      suggest_namespace: semantic/alignments

    # Adoption patterns
    - content_pattern: "\\b(adoption|state review|submission)\\b"
      suggest_entity: state-adoption
      suggest_namespace: semantic/adoptions
    - content_pattern: "\\b(district|school|enrollment)\\b"
      suggest_entity: district-sale
      suggest_namespace: episodic/adoption-cycles

    # Editorial patterns
    - content_pattern: "\\b(manuscript|draft|revision)\\b"
      suggest_entity: manuscript
      suggest_namespace: semantic/content
    - content_pattern: "\\b(milestone|deadline|due date)\\b"
      suggest_entity: editorial-milestone
      suggest_namespace: episodic/editorial

    # Author patterns
    - content_pattern: "\\b(author|contributor|editor)\\b"
      suggest_entity: author
      suggest_namespace: semantic/contributors

    # Digital patterns
    - content_pattern: "\\b(LMS|interactive|digital resource)\\b"
      suggest_entity: digital-resource
      suggest_namespace: semantic/content
    - content_pattern: "\\b(WCAG|accessibility|508)\\b"
      suggest_entity: accessibility-spec
      suggest_namespace: procedural/production
