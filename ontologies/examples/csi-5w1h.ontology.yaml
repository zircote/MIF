---
# CSI 5W1H Ontology - Customer Technical Support Issue Classification
#
# A comprehensive ontology for classifying HMH Customer Technical Support
# (CSI) Jira tickets using the 5W1H analytical framework (What, Why, Where,
# When, Who, How). Derived from data-driven analysis of 78,405 tickets
# spanning January 2014 through February 2026.
#
# Compatible with: mif-base v0.1.0 (cognitive triad hierarchy)
#
# Version: 1.0.0
# Last Updated: 2026-02-22
#
# Provenance:
#   Source: NotebookLM notebook 3a9812dc-b3d9-4df8-a240-f9b5b64b4c34
#   Dataset: 78,405 CSI Jira tickets (11 CSV exports, 55 analysis chunks)
#   Period: 2014-01 through 2026-02
#   Organization: Houghton Mifflin Harcourt (HMH)
#   Framework: 5W1H (What, Why, Where, When, Who, How)
#   Methodology: RLM (Recursive Language Model) pattern with 55 parallel
#                analyst agents, aggregated and normalized into unified taxonomy

ontology:
  id: csi-5w1h
  version: "1.0.0"
  description: >-
    CSI 5W1H ontology for classifying HMH Customer Technical Support tickets
    across 11 analytical dimensions using the Who/What/When/Where/Why/How
    framework. Covers symptom taxonomy, root cause analysis, resolution
    pathways, platform mapping, team assignments, temporal patterns, and
    impact assessment derived from 78,405 tickets over 12 years.
  extends:
    - mif-base
    - shared-traits

# =============================================================================
# CUSTOM NAMESPACES
# =============================================================================
# Extends the mif-base cognitive triad hierarchy with CSI-specific
# sub-namespaces for organizing support ticket knowledge.

namespaces:
  semantic:
    children:
      tickets:
        description: >-
          Support ticket classifications, symptom
          taxonomies, and issue type hierarchies
        type_hint: semantic
      products:
        description: >-
          HMH product taxonomy: Core Curriculum,
          Intervention, Supplemental, Platform
        type_hint: semantic
      platforms:
        description: >-
          Platform and system element mappings:
          HMH Ed, ThinkCentral, my.hrw.com
        type_hint: semantic
      organizations:
        description: "Teams, SMEs, reporters, and organizational structure"
        type_hint: semantic
      glossary:
        description: "Acronyms, terms, and domain-specific definitions"
        type_hint: semantic

  episodic:
    children:
      escalations:
        description: >-
          P0/P1 incidents, Salesforce escalations,
          and high-impact events
        type_hint: episodic
      temporal:
        description: >-
          Seasonal patterns, platform eras,
          and multi-year trends
        type_hint: episodic
      migrations:
        description: >-
          Platform migration events:
          ThinkCentral to HMH Ed transition
        type_hint: episodic

  procedural:
    children:
      resolution:
        description: >-
          Resolution procedures, fix areas,
          and engineering workflows
        type_hint: procedural
      triage:
        description: >-
          Triage routing, tier escalation,
          and team assignment procedures
        type_hint: procedural
      recommendations:
        description: "Strategic recommendations and improvement initiatives"
        type_hint: procedural

# =============================================================================
# ENTITY TYPES
# =============================================================================
# Structured entities with JSON Schema validation, covering every concept
# in the CSI 5W1H research.

entity_types:
  # ---------------------------------------------------------------------------
  # WHAT Dimension: Symptom Domain
  # ---------------------------------------------------------------------------
  - name: symptom-category
    description: >-
      Primary classification of user-reported issues by symptom type.
      8 categories: Login/Authentication (19.9%), Content/Display (11.8%),
      Error/Crash (10.7%), Assessment/Scoring (10.1%), Assignment/Workflow
      (6.0%), Data/Sync (5.3%), Teacher/Admin Issues (5.0%), License Issues
      (4.2%). Additional categories include
      Performance/Slow, Access/Permissions,
      Navigation/UI, Reporting, and Integration/API.
    base: semantic
    traits:
      - metricated
      - categorized
    schema:
      required:
        - name
        - description
      properties:
        name:
          type: string
          description: "Symptom category name"
          enum:
            - Login/Authentication
            - Content/Display
            - Error/Crash
            - Assessment/Scoring
            - Assignment/Workflow
            - Data/Sync
            - Teacher/Admin Issues
            - License Issues
            - Performance/Slow
            - Access/Permissions
            - Navigation/UI
            - Reporting
            - Integration/API
            - Other/Uncategorized
        description:
          type: string
          description: "Detailed description of symptoms in this category"
        sub_symptoms:
          type: array
          description: "Specific symptom manifestations within this category"
          items:
            type: string
        ticket_count:
          type: integer
          description: "Number of tickets classified under this symptom"
        percentage:
          type: number
          description: "Percentage of total classified tickets"

  # ---------------------------------------------------------------------------
  # WHAT Dimension: Failure Mechanism
  # ---------------------------------------------------------------------------
  - name: failure-mechanism
    description: >-
      Classification by issue type and sub-type. Issue types: Bug (76.5%),
      Task (18.1%), Feature Request (6.3%), Emergency (0.01%). Issue sub-types:
      Platform (78.2%), Content (20.7%), Other (1.1%).
    base: semantic
    traits:
      - metricated
    schema:
      required:
        - issue_type
      properties:
        issue_type:
          type: string
          description: "Primary issue classification"
          enum:
            - Bug
            - Task
            - Feature Request
            - Emergency
        issue_sub_type:
          type: string
          description: "Sub-classification of issue"
          enum:
            - Platform
            - Content
            - Other
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # WHAT Dimension: Impact Scope
  # ---------------------------------------------------------------------------
  - name: impact-assessment
    description: >-
      Impact scope classification including CSI priority (P0-P3), Salesforce
      escalation priority (Standard/High/Urgent), and customer tier
      (Other/Platinum/Gold). 80% P3, 16% P2, 3% P1, <0.1% P0.
    base: semantic
    traits:
      - prioritized
    schema:
      required:
        - csi_priority
      properties:
        csi_priority:
          type: string
          description: "CSI priority level"
          enum:
            - P0 (Emergency)
            - P1 (High)
            - P2 (Medium)
            - P3 (Low)
        sf_escalation_priority:
          type: string
          description: "Salesforce case escalation priority"
          enum:
            - Standard
            - High
            - Urgent
        customer_tier:
          type: string
          description: "Customer classification tier"
          enum:
            - Platinum
            - Gold
            - Other
        csi_priority_count:
          type: integer
        customer_tier_count:
          type: integer

  # ---------------------------------------------------------------------------
  # WHY Dimension: Root Cause and Resolution Type
  # ---------------------------------------------------------------------------
  - name: resolution-type
    description: >-
      Root cause classification based on resolution outcome. 9 resolution types:
      Fixed (60%), Not a bug - No fix required (18%), Not a bug - Enhancement
      (8.8%), Duplicate (5.3%), Cannot Reproduce (3.9%), Fix on Project Roadmap
      (2.5%), Transfer to other team (0.7%), Declined business case (0.6%),
      Unsupported Product (0.2%).
    base: semantic
    traits:
      - metricated
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "Resolution type label"
          enum:
            - Fixed
            - Not a bug - No fix required
            - Not a bug - Enhancement
            - Duplicate
            - Cannot Reproduce
            - Fix on Project Roadmap
            - Not a bug - Transfer to other team
            - Cannot fix - Declined business case
            - Cannot fix - Unsupported Product
        interpretation:
          type: string
          description: "What this resolution type means for root cause"
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # HOW Dimension: Fix Area
  # ---------------------------------------------------------------------------
  - name: fix-area
    description: >-
      Engineering action taken to resolve issues. 11 fix areas: Data Change
      (40%), Database Script (15%), Code Change (9%), Configuration (4%),
      Entitlement/Licensing (3.5%), Static Content (1.3%), Infrastructure
      (0.3%), Metadata (0.3%), Stored Procedure (0.2%), Performance Issue
      (0.2%), Source Code, Fixed Media.
    base: procedural
    traits:
      - metricated
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "Fix area classification"
          enum:
            - Data Change
            - Database Script
            - Code Change
            - Configuration
            - Entitlement/Licensing
            - Static Content
            - Infrastructure
            - Metadata
            - Stored Procedure
            - Performance Issue
            - Source Code
            - Fixed Media
            - Other
        description:
          type: string
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # HOW Dimension: Resolution Status
  # ---------------------------------------------------------------------------
  - name: resolution-status
    description: >-
      Ticket lifecycle status tracking the resolution pathway. Statuses:
      Closed (99.7%), V&A (Verification & Analysis), T2 Verification,
      Investigation & Research, Fix. Nearly all tickets in the 12-year
      dataset reached Closed status.
    base: procedural
    traits:
      - lifecycle
    schema:
      required:
        - status
      properties:
        status:
          type: string
          description: "Current ticket status"
          enum:
            - Closed
            - V&A
            - T2 Verification
            - Investigation & Research
            - Fix
        resolution_pathway:
          type: array
          description: >-
            7-step resolution workflow
          items:
            type: object
            properties:
              step:
                type: integer
              phase:
                type: string
              description:
                type: string
          default:
            - step: 1
              phase: "Intake"
              description: >-
                Customer reports issue
                to Tier 1/Salesforce
            - step: 2
              phase: "Triage"
              description: >-
                Tier2Leads categorize
                and assign priority
            - step: 3
              phase: "Investigation"
              description: >-
                T2 Verification or
                Investigation & Research
            - step: 4
              phase: "Assignment"
              description: >-
                Route to specialized team
            - step: 5
              phase: "Resolution"
              description: >-
                Implement fix (data change,
                code deploy, config update)
            - step: 6
              phase: "Verification"
              description: >-
                V&A or T2 Verification
                confirms fix
            - step: 7
              phase: "Closure"
              description: >-
                Ticket marked resolved

  # ---------------------------------------------------------------------------
  # WHERE Dimension: Platform
  # ---------------------------------------------------------------------------
  - name: platform
    description: >-
      HMH learning platform. HMH Ed (81.4%), ThinkCentral/TCT (8.6%),
      my.hrw.com/HMOF (7.1%), Online (2.2%), Mobile Apps (0.3%),
      plus legacy platforms Classzone, Download Center, Eharcourtschool,
      Reads Intervention Online.
    base: semantic
    traits:
      - lifecycle
      - documented
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "Platform name"
        abbreviation:
          type: string
          description: "Short code (e.g., TCT, HMOF)"
        status:
          type: string
          description: "Platform lifecycle status"
          enum:
            - active
            - deprecated
            - sunset
            - legacy
        era:
          type: string
          description: "Historical era of platform dominance"
          enum:
            - legacy (pre-2017)
            - transition (2017-2019)
            - modern (2019-present)
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # WHERE Dimension: System Element
  # ---------------------------------------------------------------------------
  - name: system-element
    description: >-
      System components generating support tickets. Top elements: Personal
      Math Trainer (686), IDMA2016/IDM (431), Purge (234), HMH Player (113),
      Dashboard (81), myWriteSmart (43), Turnitin (21), ManagEd (20),
      DiscoverEd (15), My Smart Planner (13), AssignEd (9), Knewton (7),
      Notebook (5), eRater (3).
    base: semantic
    traits:
      - owned
      - documented
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "System element name"
        description:
          type: string
          description: "Component function"
        parent_platform:
          type: string
          description: "Platform this element belongs to"
        category:
          type: string
          description: "Element type classification"
          enum:
            - identity-management
            - content-delivery
            - assessment-engine
            - reporting
            - classroom-management
            - adaptive-learning
            - writing-assessment
            - data-operations
            - integration
            - other
        ticket_count:
          type: integer

  # ---------------------------------------------------------------------------
  # WHERE Dimension: Subject Discipline
  # ---------------------------------------------------------------------------
  - name: subject-discipline
    description: >-
      Academic subject area affected by support tickets. Mathematics (32.7%),
      Reading (21.9%), Language Arts (14.5%), Science & Health (7.6%),
      Social Studies (4.7%), Professional Development (2.3%), World Languages
      (2.0%), ELD (0.2%), Destinations Reading, Adult Workplace.
    base: semantic
    traits:
      - metricated
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "Subject discipline name"
          enum:
            - Mathematics
            - Reading
            - Language Arts
            - Science & Health
            - Social Studies
            - Professional Development
            - World Languages
            - ELD
            - DR - Destinations Reading
            - Adult Workplace
            - Other
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # WHERE Dimension: HMH Product
  # ---------------------------------------------------------------------------
  - name: product
    description: >-
      HMH product within the product taxonomy. Four tiers: Core Curriculum
      (Into Reading, Into Literature, Into Math, Into Science), Intervention
      (Read 180, Math 180, English 3D, System 44), Supplemental (Waggle,
      Amira Learning, Writable, Classcraft), and System Components (IDM,
      PMT, HMH Player, Dashboard, myWriteSmart, Ed Assignment, Ed Reporting,
      Ed Assessments). Also includes divisions: Heinemann, NWEA, Center for
      Model Schools.
    base: semantic
    traits:
      - categorized
      - documented
    schema:
      required:
        - name
        - product_tier
      properties:
        name:
          type: string
          description: "Product name"
        abbreviation:
          type: string
          description: "Short code (e.g., R180, M180, E3D, S44)"
        product_tier:
          type: string
          description: "Product tier in HMH taxonomy"
          enum:
            - Core Curriculum
            - Intervention
            - Supplemental
            - Platform
            - System Component
            - Division
        grade_range:
          type: string
          description: "Grade levels served (e.g., K-12, 4-12, 5+)"
        subject_area:
          type: string
          description: "Primary subject discipline"
        description:
          type: string

  # ---------------------------------------------------------------------------
  # WHO Dimension: Support Team
  # ---------------------------------------------------------------------------
  - name: support-team
    description: >-
      Team responsible for ticket resolution. HMH Product Delivery (48.5%),
      CDG Content Team (14.4%), ISG T3 Support (13.6%), CTS Breakfix Team
      (6.6%), TG Content Support Team (5.7%), Riverside Platform Team (5.0%),
      ISG Product Delivery (4.3%), Support Ops (1.0%), Comtrade Platform Team
      (0.9%), HMH DI (0.5%).
    base: semantic
    traits:
      - contactable
      - metricated
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "Team name"
        primary_responsibility:
          type: string
          description: "Primary area of responsibility"
        team_type:
          type: string
          description: "Team classification"
          enum:
            - platform-engineering
            - content-support
            - tier3-support
            - breakfix
            - assessment-platform
            - intervention-engineering
            - operations
            - vendor
            - data-intelligence
        ticket_count:
          type: integer
        percentage:
          type: number

  # ---------------------------------------------------------------------------
  # WHO Dimension: Subject Matter Expert
  # ---------------------------------------------------------------------------
  - name: subject-matter-expert
    description: >-
      Fix engineers and SMEs by ticket resolution count. Top 20 SMEs resolved
      5,282 tickets. Thu-Thao Truong (759), Bernard Davis (726), Martin
      Crimmins (579), Ikay Iwobi (473), Karl Allen (419), Andre Atkins (275),
      Jeffrey Whitted (268), Adrian Harte (202), David Whaley (168), Cillian
      Leavy (147), Gabby White (132),
      Brian Conlon (115),
      Emmanuel Masanja (100),
      Delcy Philips (95),
      Michael Smyrniotis (93),
      Terri O'Sullivan (76),
      Lisa O'Farrell (66),
      Francis Cahill (65),
      Tarunkumar Dhupad (62),
      Laurie Wutzke (62).
    base: semantic
    traits:
      - metricated
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "SME name"
        specialization:
          type: string
          description: "Domain of expertise"
          enum:
            - platform-engineering
            - database-data-services
            - backend-systems
            - content-systems
            - platform-infrastructure
            - application-support
            - data-engineering
            - platform-features
            - content-delivery
            - system-integration
        tickets_resolved:
          type: integer
          description: "Number of tickets resolved by this SME"
        team:
          type: string
          description: "Team affiliation"

  # ---------------------------------------------------------------------------
  # WHO Dimension: Reporter/Actor
  # ---------------------------------------------------------------------------
  - name: ticket-actor
    description: >-
      Actors in the ticket lifecycle: reporters, assignee queues, and PM
      ticket owners. Primary assignee queue: Tier2Leads (99.9%). Top reporters
      include internal support staff (Luke Wigand, Kris Seiler, Chad Ross)
      and automated Salesforce/Jira connectors (14% of tickets).
    base: semantic
    schema:
      required:
        - name
        - role
      properties:
        name:
          type: string
        role:
          type: string
          description: "Actor role in ticket lifecycle"
          enum:
            - reporter
            - assignee-queue
            - pm-ticket-owner
            - automated-connector
        queue_name:
          type: string
          description: "Assignee queue name"
          enum:
            - Tier2Leads
            - Tier3AppSupport
        ticket_count:
          type: integer
        actor_type:
          type: string
          description: "Human vs automated actor"
          enum:
            - human
            - automated

  # ---------------------------------------------------------------------------
  # WHEN Dimension: Temporal Pattern
  # ---------------------------------------------------------------------------
  - name: temporal-pattern
    description: >-
      Seasonal and event-driven patterns in ticket volume. Back-to-School
      (Aug-Sep) peak, post-break (Jan) secondary spike, end-of-year assessment
      (May-Jun). COVID-19 surge (2020-2021, 7,237 records). Volume baseline:
      4,000-4,500 tickets/year post-pandemic.
    base: episodic
    traits:
      - seasonal
      - metricated
    schema:
      required:
        - pattern_name
        - period
      properties:
        pattern_name:
          type: string
          description: "Name of the temporal pattern"
        period:
          type: string
          description: "Time period (e.g., Aug-Sep, Jan, May-Jun)"
        dominant_symptoms:
          type: array
          description: "Symptom categories that spike during this period"
          items:
            type: string
        volume_trend:
          type: string
          description: "Volume characterization"
          enum:
            - peak
            - high
            - moderate
            - low
        driver:
          type: string
          description: "What drives this pattern"
          enum:
            - academic-calendar
            - platform-release
            - pandemic
            - assessment-window
            - holiday-break

  # ---------------------------------------------------------------------------
  # WHEN Dimension: Platform Era
  # ---------------------------------------------------------------------------
  - name: platform-era
    description: >-
      Historical platform evolution eras: Legacy/ThinkCentral (pre-2017),
      Transition/HMH Ed Emergence (2017-2019), COVID Disruption (2019-2021),
      Post-Pandemic Normalization (2021-2023), Content & Stability Focus
      (2023-2026).
    base: episodic
    traits:
      - metricated
    schema:
      required:
        - era_name
        - start_year
        - end_year
      properties:
        era_name:
          type: string
          description: "Name of the platform era"
        start_year:
          type: integer
        end_year:
          type: integer
        dominant_platforms:
          type: array
          description: "Platforms dominant in this era"
          items:
            type: string
        dominant_symptoms:
          type: array
          description: "Top symptom categories in this era"
          items:
            type: string
        characteristics:
          type: array
          description: "Key characteristics of the era"
          items:
            type: string
        volume_range:
          type: string
          description: "Typical annual ticket volume"

  # ---------------------------------------------------------------------------
  # Cross-Cutting: Support Ticket (Core Entity)
  # ---------------------------------------------------------------------------
  - name: support-ticket
    description: >-
      A CSI Jira ticket — the core entity in the 5W1H framework. Each ticket
      is classified across all 11 ontology dimensions: WHAT (symptom, failure
      mechanism, action taken, impact), WHY (root cause), HOW (resolution),
      WHERE (platform, system element, discipline), WHO (actors, team, SME),
      WHEN (temporal context).
    base: episodic
    traits:
      - timestamped
      - prioritized
      - categorized
      - lifecycle
    schema:
      required:
        - issue_key
        - summary
      properties:
        issue_key:
          type: string
          description: "Jira issue key (e.g., CSI-12108)"
          pattern: "^CSI-\\d+$"
        summary:
          type: string
          description: "Ticket summary/title"
        symptom_category:
          type: string
          description: "WHAT: Primary symptom classification"
        issue_type:
          type: string
          description: >-
            WHAT: Failure mechanism
            (Bug/Task/Feature Request/Emergency)
        issue_sub_type:
          type: string
          description: "WHAT: Sub-type (Platform/Content/Other)"
        csi_priority:
          type: string
          description: "WHAT: Impact priority (P0-P3)"
        sf_escalation:
          type: string
          description: "WHAT: Salesforce escalation priority"
        customer_tier:
          type: string
          description: "WHAT: Customer tier classification"
        resolution_type:
          type: string
          description: "WHY: Root cause resolution type"
        fix_area:
          type: string
          description: "HOW: Engineering fix area"
        status:
          type: string
          description: "HOW: Current ticket status"
        platform:
          type: string
          description: "WHERE: Affected platform"
        system_element:
          type: string
          description: "WHERE: Affected system component"
        subject_discipline:
          type: string
          description: "WHERE: Subject area"
        assignee_queue:
          type: string
          description: "WHO: Primary assignee queue"
        reporter:
          type: string
          description: "WHO: Ticket reporter"
        pm_ticket_owner:
          type: string
          description: "WHO: PM ticket owner"
        responsible_team:
          type: string
          description: "WHO: Team assigned to resolve"
        fix_engineer:
          type: string
          description: "WHO: SME who resolved"
        created_date:
          type: string
          format: date
          description: "WHEN: Ticket creation date"
        labels:
          type: array
          description: "Cross-cutting metadata labels"
          items:
            type: string
        components:
          type: array
          description: "Jira components"
          items:
            type: string

  # ---------------------------------------------------------------------------
  # Cross-Cutting: Jira Label
  # ---------------------------------------------------------------------------
  - name: jira-label
    description: >-
      Cross-cutting metadata labels applied to tickets. Top labels:
      qe-csi-team (35), isg priority (31), Escalation 1 (25), grading
      technical issues (24), IF 2002 error (23), Program Activity Report (21),
      Licenses Tab (20), Growth Report (17), Math Core Triage (16).
    base: semantic
    traits:
      - tagged
    schema:
      required:
        - label
      properties:
        label:
          type: string
          description: "Label text"
        ticket_count:
          type: integer
          description: "Number of tickets with this label"
        context:
          type: string
          description: "What this label indicates"

  # ---------------------------------------------------------------------------
  # Cross-Cutting: Jira Component
  # ---------------------------------------------------------------------------
  - name: jira-component
    description: >-
      Jira project components used for ticket routing. Top components:
      Identity Management (203), TCK-6 (194), Holt McDougal Online (51),
      Ed (41), Ed Assignment (20), Ed Reporting (18), Personal Math Trainer
      (16), SSO (16), Waggle (16), Ed Assessments (10).
    base: semantic
    schema:
      required:
        - name
      properties:
        name:
          type: string
        ticket_count:
          type: integer
        related_system_element:
          type: string
          description: "Corresponding system element entity"

  # ---------------------------------------------------------------------------
  # Strategic: Recommendation
  # ---------------------------------------------------------------------------
  - name: recommendation
    description: >-
      Strategic recommendations from the CSI ontology analysis. 10 primary
      recommendations: (1) Auth/Identity Management, (2) Data Quality/Integrity,
      (3) Content Delivery Optimization, (4) Assessment/Scoring Reliability,
      (5) Knowledge Management/Self-Service, (6) Support Operations Efficiency,
      (7) Proactive Monitoring/Prevention, (8) Platform Migration Acceleration,
      (9) Customer Segmentation/Prioritization,
      (10) Ontology Operationalization.
    base: procedural
    traits:
      - reviewed
    schema:
      required:
        - title
        - finding
      properties:
        title:
          type: string
          description: "Recommendation title"
        finding:
          type: string
          description: "Data finding that drives this recommendation"
        action_items:
          type: array
          description: "Specific recommended actions"
          items:
            type: string
        impact_area:
          type: string
          description: "Area of operational impact"
          enum:
            - authentication
            - data-quality
            - content-delivery
            - assessment
            - knowledge-management
            - support-operations
            - monitoring
            - platform-migration
            - customer-segmentation
            - ontology-operationalization

  # ---------------------------------------------------------------------------
  # Application: Ontology Use Case
  # ---------------------------------------------------------------------------
  - name: application-scenario
    description: >-
      Documented scenarios for applying the CSI ontology. 10 scenarios:
      (1) Product Planning/Roadmap, (2) Root Cause Analysis, (3) Support Team
      Optimization, (4) Knowledge Base Development, (5) Customer Success,
      (6) QA Test Planning, (7) Capacity Planning, (8) Vendor/Partner
      Management, (9) Executive Reporting, (10) Incident Response/Post-Mortem.
    base: procedural
    schema:
      required:
        - scenario_name
        - use_case
      properties:
        scenario_name:
          type: string
        use_case:
          type: string
          description: "How to apply the ontology in this scenario"
        example_query:
          type: string
          description: "Example query against ontology dimensions"
        outcome:
          type: string
          description: "Expected outcome of applying this scenario"
        target_audience:
          type: string
          description: "Who benefits from this scenario"
          enum:
            - product-management
            - engineering
            - support-leadership
            - technical-writing
            - customer-success
            - qa
            - operations
            - partnerships
            - executive
            - incident-response

  # ---------------------------------------------------------------------------
  # SSO Provider (Authentication Detail)
  # ---------------------------------------------------------------------------
  - name: sso-provider
    description: >-
      Single Sign-On providers integrated with HMH platforms. Key providers
      driving authentication ticket volume: Clever, Classlink, Google,
      Microsoft/Azure AD. Multi-district identity hierarchies create
      significant SSO complexity.
    base: semantic
    schema:
      required:
        - name
      properties:
        name:
          type: string
          description: "SSO provider name"
        integration_type:
          type: string
          description: "Type of SSO integration"
          enum:
            - saml
            - oauth
            - oidc
            - proprietary
        complexity_factors:
          type: array
          description: "Factors contributing to authentication complexity"
          items:
            type: string

  # ---------------------------------------------------------------------------
  # Data Quality Issue
  # ---------------------------------------------------------------------------
  - name: data-quality-issue
    description: >-
      Data quality observations from the ontology analysis. Known issues:
      naming variants for platforms (multiple spellings of HMH Ed, ThinkCentral,
      my.hrw.com), 66.9% of tickets lacking system element classification,
      data entry variability in descriptions, historical schema changes over
      12 years, reporter name appearing as symptom category (data artifact).
    base: semantic
    schema:
      required:
        - issue_type
        - description
      properties:
        issue_type:
          type: string
          enum:
            - naming-variant
            - missing-classification
            - data-entry-variability
            - schema-evolution
            - data-artifact
        description:
          type: string
        affected_dimension:
          type: string
          description: "Which 5W1H dimension is affected"
        mitigation:
          type: string
          description: "Recommended mitigation"

  # -------------------------------------------
  # Glossary Term
  # -------------------------------------------
  - name: glossary-term
    description: >-
      Acronyms and domain-specific terms
      from the CSI ontology glossary.
    base: semantic
    traits:
      - tagged
    schema:
      required:
        - term
        - definition
      properties:
        term:
          type: string
          description: "Acronym or term"
          enum:
            - CSI
            - HMH
            - HMH Ed
            - IDM
            - IDMA
            - SSO
            - PMT
            - TCT
            - ThinkCentral
            - HMOF
            - R180
            - M180
            - E3D
            - S44
            - SF
            - ISG
            - CDG
            - CTS
            - T2
            - Tier2
            - T3
            - Tier3
            - V&A
            - P0
            - P1
            - P2
            - P3
        definition:
          type: string
          description: "Full definition"
        context:
          type: string
          description: >-
            Usage context (e.g.,
            platform, team, priority)

# =============================================
# TRAITS (MIXINS)
# =============================================
# Domain-specific reusable traits beyond mif-base and shared-traits.

traits:
  prioritized:
    description: "Adds priority and escalation classification"
    fields:
      priority:
        type: string
        description: "Priority level (P0-P3)"
        enum:
          - P0 (Emergency)
          - P1 (High)
          - P2 (Medium)
          - P3 (Low)
      escalation_priority:
        type: string
        description: "Salesforce escalation priority"
        enum:
          - Standard
          - High
          - Urgent
      customer_tier:
        type: string
        description: "Customer tier classification"
        enum:
          - Platinum
          - Gold
          - Other

  metricated:
    description: "Adds statistical distribution data from ticket analysis"
    fields:
      ticket_count:
        type: integer
        description: "Total tickets in this classification"
      percentage:
        type: number
        description: "Percentage of total analyzed tickets"
      trend:
        type: string
        description: "Multi-year trend direction"
        enum:
          - increasing
          - decreasing
          - stable
          - cyclical

  classified_5w1h:
    description: "Adds 5W1H framework dimension tags"
    fields:
      what_symptom:
        type: string
        description: "WHAT: Symptom category"
      what_failure:
        type: string
        description: "WHAT: Failure mechanism"
      what_impact:
        type: string
        description: "WHAT: Impact scope"
      why_root_cause:
        type: string
        description: "WHY: Root cause resolution"
      how_resolution:
        type: string
        description: "HOW: Resolution pathway"
      where_platform:
        type: string
        description: "WHERE: Affected platform"
      where_element:
        type: string
        description: "WHERE: System element"
      where_discipline:
        type: string
        description: "WHERE: Subject discipline"
      who_team:
        type: string
        description: "WHO: Responsible team"
      who_sme:
        type: string
        description: "WHO: Subject matter expert"
      when_period:
        type: string
        description: "WHEN: Temporal context"

# =============================================================================
# RELATIONSHIPS
# =============================================================================
# Relationships between entity types capturing the CSI ontology structure.

relationships:
  classified_as:
    description: "Ticket is classified under a symptom category"
    from:
      - support-ticket
    to:
      - symptom-category
    symmetric: false

  has_failure_type:
    description: "Ticket has a failure mechanism classification"
    from:
      - support-ticket
    to:
      - failure-mechanism
    symmetric: false

  resolved_with:
    description: "Ticket was resolved with a resolution type"
    from:
      - support-ticket
    to:
      - resolution-type
    symmetric: false

  fixed_in:
    description: "Ticket was fixed in a specific engineering area"
    from:
      - support-ticket
    to:
      - fix-area
    symmetric: false

  affects_platform:
    description: "Ticket affects a specific platform"
    from:
      - support-ticket
    to:
      - platform
    symmetric: false

  involves_element:
    description: "Ticket involves a specific system element"
    from:
      - support-ticket
    to:
      - system-element
    symmetric: false

  concerns_discipline:
    description: "Ticket concerns a subject discipline"
    from:
      - support-ticket
    to:
      - subject-discipline
    symmetric: false

  relates_to_product:
    description: "Ticket or element relates to an HMH product"
    from:
      - support-ticket
      - system-element
    to:
      - product
    symmetric: false

  assigned_to_team:
    description: "Ticket is assigned to a support team"
    from:
      - support-ticket
    to:
      - support-team
    symmetric: false

  resolved_by_sme:
    description: "Ticket was resolved by a subject matter expert"
    from:
      - support-ticket
    to:
      - subject-matter-expert
    symmetric: false

  reported_by:
    description: "Ticket was reported by an actor"
    from:
      - support-ticket
    to:
      - ticket-actor
    symmetric: false

  has_impact:
    description: "Ticket has an impact assessment"
    from:
      - support-ticket
    to:
      - impact-assessment
    symmetric: false

  hosts:
    description: "Platform hosts a system element"
    from:
      - platform
    to:
      - system-element
    symmetric: false

  delivers:
    description: "Platform delivers a product"
    from:
      - platform
    to:
      - product
    symmetric: false

  covers_discipline:
    description: "Product covers a subject discipline"
    from:
      - product
    to:
      - subject-discipline
    symmetric: false

  member_of:
    description: "SME is a member of a support team"
    from:
      - subject-matter-expert
    to:
      - support-team
    symmetric: false

  occurs_during:
    description: "Symptom category spikes during a temporal pattern"
    from:
      - symptom-category
    to:
      - temporal-pattern
    symmetric: false

  dominant_in_era:
    description: "Platform or symptom was dominant in a platform era"
    from:
      - platform
      - symptom-category
    to:
      - platform-era
    symmetric: false

  authenticates_via:
    description: "Platform authenticates via an SSO provider"
    from:
      - platform
    to:
      - sso-provider
    symmetric: false

  addresses_finding:
    description: "Recommendation addresses a specific ontology finding"
    from:
      - recommendation
    to:
      - symptom-category
      - fix-area
      - support-team
      - platform
    symmetric: false

  applied_in:
    description: "Application scenario is applied in a domain"
    from:
      - application-scenario
    to:
      - symptom-category
      - platform
      - support-team
    symmetric: false

  labeled_with:
    description: "Ticket is labeled with a Jira label"
    from:
      - support-ticket
    to:
      - jira-label
    symmetric: false

  has_component:
    description: "Ticket is tagged with a Jira component"
    from:
      - support-ticket
    to:
      - jira-component
    symmetric: false

  quality_issue_in:
    description: "Data quality issue affects an ontology dimension"
    from:
      - data-quality-issue
    to:
      - symptom-category
      - platform
      - system-element
    symmetric: false

# =============================================================================
# DISCOVERY CONFIGURATION
# =============================================================================
# Both generic and MIF-codebase-specific patterns for automatic namespace
# suggestion and entity detection.

discovery:
  enabled: true
  confidence_threshold: 0.8

  patterns:
    # -------------------------------------------------------------------------
    # Generic content patterns — applicable to any CSI/support project
    # -------------------------------------------------------------------------

    # WHAT: Symptom domain patterns
    - content_pattern: >-
        \b(login|authentication|SSO|
        sign-in|password|credential)\b
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: >-
        \b(content|display|rendering|
        blank page|media playback)\b
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(error|crash|exception|timeout|500|404)\\b"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(assessment|scoring|grade|rubric|test delivery)\\b"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(assignment|workflow|due date|scheduling)\\b"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(data sync|roster|import|export|sync failure)\\b"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(license|entitlement|access|permissions)\\b"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets

    # WHAT: Failure mechanism patterns
    - content_pattern: "\\b(bug|defect|regression|broken)\\b"
      suggest_entity: failure-mechanism
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(feature request|enhancement|improvement)\\b"
      suggest_entity: failure-mechanism
      suggest_namespace: _semantic/tickets
    - content_pattern: "\\b(emergency|P0|critical outage)\\b"
      suggest_entity: failure-mechanism
      suggest_namespace: _episodic/escalations

    # WHY: Resolution type patterns
    - content_pattern: "\\b(fixed|resolved|deployed|patched)\\b"
      suggest_entity: resolution-type
      suggest_namespace: _procedural/resolution
    - content_pattern: "\\b(not a bug|working as designed|expected behavior)\\b"
      suggest_entity: resolution-type
      suggest_namespace: _procedural/resolution
    - content_pattern: "\\b(duplicate|already reported|existing ticket)\\b"
      suggest_entity: resolution-type
      suggest_namespace: _procedural/resolution
    - content_pattern: >-
        \b(cannot reproduce|
        unable to replicate|intermittent)\b
      suggest_entity: resolution-type
      suggest_namespace: _procedural/resolution

    # HOW: Fix area patterns
    - content_pattern: "\\b(data change|data correction|record fix)\\b"
      suggest_entity: fix-area
      suggest_namespace: _procedural/resolution
    - content_pattern: "\\b(database script|SQL fix|bulk correction)\\b"
      suggest_entity: fix-area
      suggest_namespace: _procedural/resolution
    - content_pattern: "\\b(code change|code fix|application logic)\\b"
      suggest_entity: fix-area
      suggest_namespace: _procedural/resolution
    - content_pattern: "\\b(configuration|config change|settings update)\\b"
      suggest_entity: fix-area
      suggest_namespace: _procedural/resolution

    # WHERE: Platform patterns
    - content_pattern: "\\b(HMH Ed|Ed Platform|Your Friend in Learning)\\b"
      suggest_entity: platform
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(ThinkCentral|TCT)\\b"
      suggest_entity: platform
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(my\\.hrw\\.com|HMOF|Holt McDougal)\\b"
      suggest_entity: platform
      suggest_namespace: _semantic/platforms

    # WHERE: System element patterns
    - content_pattern: "\\b(Personal Math Trainer|PMT)\\b"
      suggest_entity: system-element
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(IDMA2016|IDM|Identity Management)\\b"
      suggest_entity: system-element
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(HMH Player|content player)\\b"
      suggest_entity: system-element
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(myWriteSmart|Writable)\\b"
      suggest_entity: system-element
      suggest_namespace: _semantic/platforms
    - content_pattern: "\\b(ManagEd|DiscoverEd|AssignEd)\\b"
      suggest_entity: system-element
      suggest_namespace: _semantic/platforms

    # WHERE: Product patterns
    - content_pattern: >-
        \b(Into Reading|Into Literature|
        Into Math|Into Science)\b
      suggest_entity: product
      suggest_namespace: _semantic/products
    - content_pattern: >-
        \b(Read 180|R180|Math 180|M180|
        System 44|S44|English 3D|E3D)\b
      suggest_entity: product
      suggest_namespace: _semantic/products
    - content_pattern: "\\b(Waggle|Amira Learning|Classcraft)\\b"
      suggest_entity: product
      suggest_namespace: _semantic/products

    # WHO: Team patterns
    - content_pattern: >-
        \b(HMH Product Delivery|CDG Content|
        ISG T3|CTS Breakfix)\b
      suggest_entity: support-team
      suggest_namespace: _semantic/organizations
    - content_pattern: "\\b(Tier2Leads|Tier3AppSupport|T2|T3)\\b"
      suggest_entity: ticket-actor
      suggest_namespace: _semantic/organizations

    # WHO: SME patterns
    - content_pattern: "\\b(fix engineer|SME|subject matter expert)\\b"
      suggest_entity: subject-matter-expert
      suggest_namespace: _semantic/organizations

    # WHEN: Temporal patterns
    - content_pattern: "\\b(back-to-school|BTS|August spike|September surge)\\b"
      suggest_entity: temporal-pattern
      suggest_namespace: _episodic/temporal
    - content_pattern: "\\b(seasonal|cyclical|academic calendar|semester)\\b"
      suggest_entity: temporal-pattern
      suggest_namespace: _episodic/temporal
    - content_pattern: "\\b(COVID|pandemic|remote learning)\\b"
      suggest_entity: temporal-pattern
      suggest_namespace: _episodic/temporal

    # SSO provider patterns
    - content_pattern: >-
        \b(Clever|Classlink|Google SSO|
        Microsoft SSO|Azure AD)\b
      suggest_entity: sso-provider
      suggest_namespace: _semantic/platforms

    # Recommendation patterns
    - content_pattern: >-
        \b(recommendation|should invest|
        opportunity for|suggests)\b
      suggest_entity: recommendation
      suggest_namespace: _procedural/recommendations

    # Cross-cutting: CSI ticket patterns
    - content_pattern: "\\bCSI-\\d+\\b"
      suggest_entity: support-ticket
      suggest_namespace: _episodic/incidents

    # -------------------------------------------------------------------------
    # MIF-codebase-specific file patterns
    # -------------------------------------------------------------------------
    - file_pattern: "**/ontologies/**/*.yaml"
      suggest_namespace: _semantic/knowledge
    - file_pattern: "**/ontologies/**/*.jsonld"
      suggest_namespace: _semantic/knowledge
    - file_pattern: "**/schema/**/*.json"
      suggest_namespace: _semantic/knowledge
    - file_pattern: "**/docs/csi-*"
      suggest_entity: support-ticket
      suggest_namespace: _semantic/tickets
    - file_pattern: "**/docs/root-causes*"
      suggest_entity: resolution-type
      suggest_namespace: _procedural/resolution
    - file_pattern: "**/docs/error-patterns*"
      suggest_entity: symptom-category
      suggest_namespace: _semantic/tickets
    - file_pattern: "**/.claude/mnemonic/**/*.md"
      suggest_namespace: _semantic/knowledge

  # ---------------------------------------------------------------------------
  # Content patterns (mif-base format — matched against user prompts)
  # ---------------------------------------------------------------------------
  content_patterns:
    - pattern: "\\b(CSI|customer support|support ticket|Jira ticket)\\b"
      namespace: _semantic/tickets
    - pattern: "\\b(symptom|Login.*Auth|Content.*Display|Error.*Crash)\\b"
      namespace: _semantic/tickets
    - pattern: "\\b(HMH Ed|ThinkCentral|my\\.hrw|platform)\\b"
      namespace: _semantic/platforms
    - pattern: "\\b(Into Reading|Into Math|Read 180|Math 180|Waggle)\\b"
      namespace: _semantic/products
    - pattern: "\\b(Product Delivery|CDG Content|ISG T3|Breakfix)\\b"
      namespace: _semantic/organizations
    - pattern: "\\b(fixed|resolved|data change|code change|database script)\\b"
      namespace: _procedural/resolution
    - pattern: "\\b(triage|routing|escalat|Tier2|Tier3)\\b"
      namespace: _procedural/triage
    - pattern: "\\b(seasonal|back-to-school|BTS|pandemic|COVID)\\b"
      namespace: _episodic/temporal
    - pattern: "\\b(P0|P1|emergency|outage|critical)\\b"
      namespace: _episodic/escalations
    - pattern: "\\b(migration|sunset|deprecat|legacy platform)\\b"
      namespace: _episodic/migrations
    - pattern: "\\b(recommend|improve|initiative|strategy)\\b"
      namespace: _procedural/recommendations

  # ---------------------------------------------------------------------------
  # File patterns (mif-base format — matched against file paths)
  # ---------------------------------------------------------------------------
  file_patterns:
    - pattern: "csi|support|ticket|jira"
      namespaces:
        - _semantic/tickets
        - _episodic/incidents
      context: support tickets
    - pattern: "ontology|taxonomy|classification"
      namespaces:
        - _semantic/knowledge
        - _semantic/tickets
      context: ontology
    - pattern: "auth|login|sso|identity"
      namespaces:
        - _semantic/platforms
        - _semantic/tickets
      context: authentication
    - pattern: "product|curriculum|assessment"
      namespaces:
        - _semantic/products
      context: products
    - pattern: "team|sme|engineer|support-ops"
      namespaces:
        - _semantic/organizations
      context: teams
    - pattern: "resolution|fix|root-cause"
      namespaces:
        - _procedural/resolution
      context: resolution
    - pattern: "migration|deprecat|sunset|legacy"
      namespaces:
        - _episodic/migrations
      context: platform migration
