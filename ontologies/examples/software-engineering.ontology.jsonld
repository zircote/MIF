{
  "@context": {
    "@version": 1.1,
    "@vocab": "https://github.com/zircote/MIF/ontology#",
    "mif": "https://github.com/zircote/MIF#",
    "schema": "https://schema.org/",
    "skos": "http://www.w3.org/2004/02/skos/core#",
    "owl": "http://www.w3.org/2002/07/owl#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "ontology": {
      "@id": "mif:Ontology",
      "@type": "@id"
    },
    "id": {
      "@id": "@id"
    },
    "version": {
      "@id": "schema:version",
      "@type": "xsd:string"
    },
    "description": {
      "@id": "schema:description",
      "@type": "xsd:string"
    },
    "schema_url": {
      "@id": "rdfs:isDefinedBy",
      "@type": "@id"
    },
    "namespaces": {
      "@id": "mif:hasNamespace",
      "@container": "@id"
    },
    "type_hint": {
      "@id": "mif:typeHint",
      "@type": "xsd:string"
    },
    "replaces": {
      "@id": "mif:replaces",
      "@type": "@id"
    },
    "children": {
      "@id": "mif:hasChildNamespace",
      "@container": "@id"
    },
    "entity_types": {
      "@id": "mif:definesEntityType",
      "@container": "@list"
    },
    "name": {
      "@id": "schema:name",
      "@type": "xsd:string"
    },
    "base": {
      "@id": "mif:baseType",
      "@type": "@vocab"
    },
    "semantic": "mif:SemanticMemory",
    "episodic": "mif:EpisodicMemory",
    "procedural": "mif:ProceduralMemory",
    "traits": {
      "@id": "mif:definesTrait",
      "@container": "@id"
    },
    "fields": {
      "@id": "mif:hasField",
      "@container": "@id"
    },
    "requires": {
      "@id": "mif:requiresField",
      "@container": "@list"
    },
    "relationships": {
      "@id": "mif:definesRelationship",
      "@container": "@id"
    },
    "from": {
      "@id": "rdfs:domain",
      "@container": "@set"
    },
    "to": {
      "@id": "rdfs:range",
      "@container": "@set"
    },
    "symmetric": {
      "@id": "owl:SymmetricProperty",
      "@type": "xsd:boolean"
    },
    "discovery": {
      "@id": "mif:discoveryConfig"
    },
    "enabled": {
      "@id": "mif:discoveryEnabled",
      "@type": "xsd:boolean"
    },
    "patterns": {
      "@id": "mif:hasDiscoveryPattern",
      "@container": "@list"
    },
    "confidence_threshold": {
      "@id": "mif:confidenceThreshold",
      "@type": "xsd:decimal"
    },
    "content_pattern": {
      "@id": "mif:contentPattern",
      "@type": "xsd:string"
    },
    "file_pattern": {
      "@id": "mif:filePattern",
      "@type": "xsd:string"
    },
    "suggest_entity": {
      "@id": "mif:suggestsEntityType",
      "@type": "@id"
    },
    "suggest_namespace": {
      "@id": "mif:suggestsNamespace",
      "@type": "xsd:string"
    }
  },
  "@id": "mif:ontology/software-engineering",
  "@type": "mif:Ontology",
  "identifier": "software-engineering",
  "version": "1.0.0",
  "description": "Software engineering domain ontology",
  "namespaces": {
    "semantic": {
      "@id": "mif:namespace/semantic",
      "@type": "mif:Namespace",
      "name": "semantic",
      "children": {
        "architecture": {
          "@id": "mif:namespace/semantic/architecture",
          "@type": "mif:Namespace",
          "name": "architecture",
          "description": "System architecture and component designs",
          "type_hint": "semantic"
        },
        "components": {
          "@id": "mif:namespace/semantic/components",
          "@type": "mif:Namespace",
          "name": "components",
          "description": "Software components, modules, services",
          "type_hint": "semantic"
        },
        "dependencies": {
          "@id": "mif:namespace/semantic/dependencies",
          "@type": "mif:Namespace",
          "name": "dependencies",
          "description": "Third-party libraries, packages, integrations",
          "type_hint": "semantic"
        }
      }
    },
    "procedural": {
      "@id": "mif:namespace/procedural",
      "@type": "mif:Namespace",
      "name": "procedural",
      "children": {
        "deployments": {
          "@id": "mif:namespace/procedural/deployments",
          "@type": "mif:Namespace",
          "name": "deployments",
          "description": "Deployment procedures, release processes",
          "type_hint": "procedural"
        }
      }
    }
  },
  "entity_types": [
    {
      "@id": "mif:entityType/component",
      "@type": "mif:EntityType",
      "name": "component",
      "base": "semantic",
      "description": "A software component, module, or service",
      "traits": [
        "mif:trait/versioned",
        "mif:trait/documented"
      ],
      "schema": {
        "required": [
          "name",
          "responsibility"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Component name"
          },
          "responsibility": {
            "type": "string",
            "description": "Single responsibility description"
          },
          "dependencies": {
            "type": "array",
            "description": "List of component dependencies",
            "items": {
              "type": "string"
            }
          },
          "interfaces": {
            "type": "array",
            "description": "Public interfaces/APIs",
            "items": {
              "type": "string"
            }
          },
          "owner": {
            "type": "string",
            "description": "Team or person owning this component"
          }
        }
      }
    },
    {
      "@id": "mif:entityType/architectural-decision",
      "@type": "mif:EntityType",
      "name": "architectural-decision",
      "base": "semantic",
      "description": "An architectural decision with full context",
      "traits": [
        "mif:trait/dated",
        "mif:trait/cited"
      ],
      "schema": {
        "required": [
          "decision",
          "rationale"
        ],
        "properties": {
          "decision": {
            "type": "string",
            "description": "The decision made"
          },
          "rationale": {
            "type": "string",
            "description": "Why this decision was made"
          },
          "alternatives": {
            "type": "array",
            "description": "Alternatives considered",
            "items": {
              "type": "object"
            }
          },
          "consequences": {
            "type": "object",
            "description": "Known consequences and trade-offs"
          },
          "status": {
            "type": "string",
            "description": "Decision status",
            "enum": [
              "proposed",
              "accepted",
              "deprecated",
              "superseded"
            ]
          }
        }
      }
    },
    {
      "@id": "mif:entityType/incident-report",
      "@type": "mif:EntityType",
      "name": "incident-report",
      "base": "episodic",
      "description": "A production incident or outage report",
      "traits": [
        "mif:trait/timeline",
        "mif:trait/stakeholders"
      ],
      "schema": {
        "required": [
          "severity",
          "impact",
          "resolution"
        ],
        "properties": {
          "severity": {
            "type": "string",
            "description": "Incident severity level",
            "enum": [
              "critical",
              "high",
              "medium",
              "low"
            ]
          },
          "impact": {
            "type": "string",
            "description": "Business/user impact description"
          },
          "resolution": {
            "type": "string",
            "description": "How the incident was resolved"
          },
          "root_cause": {
            "type": "string",
            "description": "Root cause analysis"
          },
          "prevention": {
            "type": "array",
            "description": "Prevention measures",
            "items": {
              "type": "string"
            }
          },
          "duration_minutes": {
            "type": "integer",
            "description": "Incident duration in minutes"
          }
        }
      }
    },
    {
      "@id": "mif:entityType/technology",
      "@type": "mif:EntityType",
      "name": "technology",
      "base": "semantic",
      "description": "A technology, framework, or tool",
      "traits": [
        "mif:trait/versioned",
        "mif:trait/documented"
      ],
      "schema": {
        "required": [
          "name",
          "category"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": [
              "database",
              "framework",
              "language",
              "infrastructure",
              "tool",
              "library"
            ]
          },
          "website": {
            "type": "string",
            "format": "uri"
          },
          "license": {
            "type": "string"
          },
          "use_case": {
            "type": "string",
            "description": "Why/where we use this technology"
          }
        }
      }
    },
    {
      "@id": "mif:entityType/design-pattern",
      "@type": "mif:EntityType",
      "name": "design-pattern",
      "base": "semantic",
      "description": "A design pattern or architectural pattern",
      "traits": [
        "mif:trait/cited"
      ],
      "schema": {
        "required": [
          "pattern_name",
          "context",
          "solution"
        ],
        "properties": {
          "pattern_name": {
            "type": "string"
          },
          "context": {
            "type": "string",
            "description": "When to use this pattern"
          },
          "solution": {
            "type": "string",
            "description": "How the pattern solves the problem"
          },
          "consequences": {
            "type": "object",
            "description": "Trade-offs and implications"
          },
          "related_patterns": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    {
      "@id": "mif:entityType/runbook",
      "@type": "mif:EntityType",
      "name": "runbook",
      "base": "procedural",
      "description": "Operational runbook for handling scenarios",
      "traits": [
        "mif:trait/versioned",
        "mif:trait/stakeholders"
      ],
      "schema": {
        "required": [
          "title",
          "trigger",
          "procedure"
        ],
        "properties": {
          "title": {
            "type": "string"
          },
          "trigger": {
            "type": "string",
            "description": "What triggers this runbook"
          },
          "severity": {
            "type": "string",
            "enum": [
              "critical",
              "high",
              "medium",
              "low"
            ]
          },
          "procedure": {
            "type": "array",
            "description": "Step-by-step procedure",
            "items": {
              "type": "object",
              "properties": {
                "step": {
                  "type": "integer"
                },
                "action": {
                  "type": "string"
                },
                "expected_outcome": {
                  "type": "string"
                }
              }
            }
          },
          "escalation": {
            "type": "object",
            "description": "Escalation path"
          }
        }
      }
    },
    {
      "@id": "mif:entityType/deployment-procedure",
      "@type": "mif:EntityType",
      "name": "deployment-procedure",
      "base": "procedural",
      "description": "Step-by-step deployment or release procedure",
      "traits": [
        "mif:trait/versioned",
        "mif:trait/stakeholders"
      ],
      "schema": {
        "required": [
          "name",
          "steps",
          "target_environment"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "steps": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "order": {
                  "type": "integer"
                },
                "action": {
                  "type": "string"
                },
                "verification": {
                  "type": "string"
                },
                "rollback": {
                  "type": "string"
                }
              }
            }
          },
          "target_environment": {
            "type": "string",
            "enum": [
              "development",
              "staging",
              "production"
            ]
          },
          "prerequisites": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    {
      "@id": "mif:entityType/migration-guide",
      "@type": "mif:EntityType",
      "name": "migration-guide",
      "base": "procedural",
      "description": "Database or system migration procedure",
      "traits": [
        "mif:trait/versioned",
        "mif:trait/dated"
      ],
      "schema": {
        "required": [
          "title",
          "from_state",
          "to_state",
          "steps"
        ],
        "properties": {
          "title": {
            "type": "string"
          },
          "from_state": {
            "type": "string"
          },
          "to_state": {
            "type": "string"
          },
          "steps": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "rollback_procedure": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "downtime_required": {
            "type": "boolean"
          }
        }
      }
    }
  ],
  "traits": {
    "versioned": {
      "@id": "mif:trait/versioned",
      "@type": "mif:Trait",
      "name": "versioned",
      "description": "Adds version tracking fields",
      "fields": {
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+.*$"
        },
        "changelog": {
          "type": "array",
          "items": {
            "type": "object"
          }
        }
      }
    },
    "documented": {
      "@id": "mif:trait/documented",
      "@type": "mif:Trait",
      "name": "documented",
      "description": "Adds documentation reference",
      "fields": {
        "documentation_url": {
          "type": "string",
          "format": "uri"
        },
        "readme_path": {
          "type": "string"
        }
      }
    },
    "dated": {
      "@id": "mif:trait/dated",
      "@type": "mif:Trait",
      "name": "dated",
      "description": "Adds decision/event date",
      "fields": {
        "decision_date": {
          "type": "string",
          "format": "date"
        },
        "review_date": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "cited": {
      "@id": "mif:trait/cited",
      "@type": "mif:Trait",
      "name": "cited",
      "description": "Requires citations/sources",
      "requires": [
        "citations"
      ]
    },
    "timeline": {
      "@id": "mif:trait/timeline",
      "@type": "mif:Trait",
      "name": "timeline",
      "description": "Adds incident timeline",
      "fields": {
        "timeline": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "timestamp": {
                "type": "string",
                "format": "date-time"
              },
              "event": {
                "type": "string"
              },
              "actor": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "stakeholders": {
      "@id": "mif:trait/stakeholders",
      "@type": "mif:Trait",
      "name": "stakeholders",
      "description": "Adds stakeholder tracking",
      "fields": {
        "stakeholders": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "role": {
                "type": "string"
              },
              "contact": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  },
  "relationships": {
    "depends_on": {
      "@id": "mif:relationship/depends_on",
      "@type": "mif:Relationship",
      "name": "depends_on",
      "description": "Component dependency relationship",
      "from": [
        "mif:entityType/component"
      ],
      "to": [
        "mif:entityType/component",
        "mif:entityType/technology"
      ],
      "symmetric": false
    },
    "implements": {
      "@id": "mif:relationship/implements",
      "@type": "mif:Relationship",
      "name": "implements",
      "description": "Component implements a pattern or decision",
      "from": [
        "mif:entityType/component"
      ],
      "to": [
        "mif:entityType/design-pattern",
        "mif:entityType/architectural-decision"
      ],
      "symmetric": false
    },
    "caused_by": {
      "@id": "mif:relationship/caused_by",
      "@type": "mif:Relationship",
      "name": "caused_by",
      "description": "Incident causality",
      "from": [
        "mif:entityType/incident-report"
      ],
      "to": [
        "mif:entityType/component",
        "mif:entityType/technology"
      ],
      "symmetric": false
    },
    "resolves": {
      "@id": "mif:relationship/resolves",
      "@type": "mif:Relationship",
      "name": "resolves",
      "description": "Decision resolves an issue",
      "from": [
        "mif:entityType/architectural-decision"
      ],
      "to": [
        "mif:entityType/incident-report"
      ],
      "symmetric": false
    },
    "supersedes": {
      "@id": "mif:relationship/supersedes",
      "@type": "mif:Relationship",
      "name": "supersedes",
      "description": "Newer version supersedes older",
      "from": [
        "mif:entityType/architectural-decision",
        "mif:entityType/component",
        "mif:entityType/runbook",
        "mif:entityType/deployment-procedure"
      ],
      "to": [
        "mif:entityType/architectural-decision",
        "mif:entityType/component",
        "mif:entityType/runbook",
        "mif:entityType/deployment-procedure"
      ],
      "symmetric": false
    },
    "documents": {
      "@id": "mif:relationship/documents",
      "@type": "mif:Relationship",
      "name": "documents",
      "description": "Procedure documents how to work with entity",
      "from": [
        "mif:entityType/runbook",
        "mif:entityType/deployment-procedure",
        "mif:entityType/migration-guide"
      ],
      "to": [
        "mif:entityType/component",
        "mif:entityType/technology"
      ],
      "symmetric": false
    },
    "triggers": {
      "@id": "mif:relationship/triggers",
      "@type": "mif:Relationship",
      "name": "triggers",
      "description": "Incident triggers runbook execution",
      "from": [
        "mif:entityType/incident-report"
      ],
      "to": [
        "mif:entityType/runbook"
      ],
      "symmetric": false
    }
  },
  "discovery": {
    "enabled": true,
    "confidence_threshold": 0.8,
    "patterns": [
      {
        "@id": "mif:pattern/0",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(PostgreSQL|MySQL|MongoDB|Redis)\\b",
        "suggest_entity": "mif:entityType/technology",
        "suggest_namespace": "semantic/entities"
      },
      {
        "@id": "mif:pattern/1",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(React|Vue|Angular|Next\\.js|Django)\\b",
        "suggest_entity": "mif:entityType/technology",
        "suggest_namespace": "semantic/entities"
      },
      {
        "@id": "mif:pattern/2",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(FastAPI|Express|Flask|Spring)\\b",
        "suggest_entity": "mif:entityType/technology",
        "suggest_namespace": "semantic/entities"
      },
      {
        "@id": "mif:pattern/3",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(Docker|Kubernetes|Terraform|AWS)\\b",
        "suggest_entity": "mif:entityType/technology",
        "suggest_namespace": "semantic/entities"
      },
      {
        "@id": "mif:pattern/4",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(Factory|Singleton|Observer)\\s+Pattern\\b",
        "suggest_entity": "mif:entityType/design-pattern",
        "suggest_namespace": "procedural/patterns"
      },
      {
        "@id": "mif:pattern/5",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(Repository|Strategy|Decorator)\\s+Pattern\\b",
        "suggest_entity": "mif:entityType/design-pattern",
        "suggest_namespace": "procedural/patterns"
      },
      {
        "@id": "mif:pattern/6",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(CQRS|Event\\s+Sourcing|Saga)\\b",
        "suggest_entity": "mif:entityType/design-pattern",
        "suggest_namespace": "procedural/patterns"
      },
      {
        "@id": "mif:pattern/7",
        "@type": "mif:DiscoveryPattern",
        "file_pattern": "**/services/**/*.py",
        "suggest_entity": "mif:entityType/component",
        "suggest_namespace": "semantic/components"
      },
      {
        "@id": "mif:pattern/8",
        "@type": "mif:DiscoveryPattern",
        "file_pattern": "**/components/**/*.tsx",
        "suggest_entity": "mif:entityType/component",
        "suggest_namespace": "semantic/components"
      },
      {
        "@id": "mif:pattern/9",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(outage|incident|postmortem|RCA)\\b",
        "suggest_entity": "mif:entityType/incident-report",
        "suggest_namespace": "episodic/incidents"
      },
      {
        "@id": "mif:pattern/10",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(runbook|playbook|SOP|procedure)\\b",
        "suggest_entity": "mif:entityType/runbook",
        "suggest_namespace": "procedural/runbooks"
      },
      {
        "@id": "mif:pattern/11",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(deploy|release|rollout)\\s+(steps|procedure)\\b",
        "suggest_entity": "mif:entityType/deployment-procedure",
        "suggest_namespace": "procedural/deployments"
      },
      {
        "@id": "mif:pattern/12",
        "@type": "mif:DiscoveryPattern",
        "content_pattern": "\\b(migration|migrate|upgrade)\\s+(guide|plan)\\b",
        "suggest_entity": "mif:entityType/migration-guide",
        "suggest_namespace": "procedural/migrations"
      },
      {
        "@id": "mif:pattern/13",
        "@type": "mif:DiscoveryPattern",
        "file_pattern": "**/runbooks/**/*.md",
        "suggest_entity": "mif:entityType/runbook",
        "suggest_namespace": "procedural/runbooks"
      },
      {
        "@id": "mif:pattern/14",
        "@type": "mif:DiscoveryPattern",
        "file_pattern": "**/docs/procedures/**/*.md",
        "suggest_entity": "mif:entityType/deployment-procedure",
        "suggest_namespace": "procedural/deployments"
      }
    ]
  }
}